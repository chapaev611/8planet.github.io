"use strict";function initAnchors(a){a.find(".js-anchors").each(function(){var a=$(this).find(".js-anchor"),t=$(".js-anchor-object");a.each(function(){$(this).on("click",function(a){a.preventDefault(),992<=$(window).innerWidth()?$("body,html").animate({scrollTop:t.filter('[data-anchor-object="'+$(this).attr("data-anchor")+'"]').offset().top},1e3):$("body,html").animate({scrollTop:t.filter('[data-anchor-object="'+$(this).attr("data-anchor")+'"]').offset().top-$(".js-mobile-menu-hidden-block").innerHeight()},1e3)})})})}function initMobileMenu(a){var t=a.find(".js-hamburger"),e=a.find(".js-mobile-menu").find(".js-mobile-menu-hidden-block"),n=e.find(".js-link");t.on("click touched",function(a){a.preventDefault(),t.hasClass("is-active")?(t.removeClass("is-active"),e.slideUp(350)):(t.addClass("is-active"),e.slideDown(350))}),n.each(function(){$(this).on("click touched",function(a){a.preventDefault(),t.removeClass("is-active"),e.slideUp(350)})})}$(document).ready(function(){$.extend($.validator.messages,{required:"Поле необходимо заполнить!",remote:"Пожалуйста, введите правильное значение",email:"Пожалуйста, введите корректный адрес электронной почты",url:"Пожалуйста, введите корректный URL",date:"Пожалуйста, введите корректную дату",dateISO:"Пожалуйста, введите корректную дату в формате ISO",number:"Пожалуйста, введите число",digits:"Пожалуйста, вводите только цифры",creditcard:"Пожалуйста, введите правильный номер кредитной карты",equalTo:"Пожалуйста, введите такое же значение ещё раз",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:$.validator.format("Пожалуйста, введите не больше {0} символов"),minlength:$.validator.format("Не менее {0} символов"),rangelength:$.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов"),range:$.validator.format("Пожалуйста, введите число от {0} до {1}"),max:$.validator.format("Пожалуйста, введите число, меньшее или равное {0}"),min:$.validator.format("Пожалуйста, введите число, большее или равное {0}")}),$.validator.addMethod("realemail",function(a,t){return/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i.test(a)},"Укажите корректный адрес электронной почты"),$.validator.addMethod("phonenumber",function(a,t){return 11===a.replace(/\D/g,"").length},"Укажите корректный телефон"),$.validator.addMethod("realphone",function(a,t){return""===a||11===a.replace(/\D/g,"").length},"Укажите корректный телефон"),$.validator.addMethod("latin",function(a,t){return!/[а-яА-ЯЁё]/gi.test(a)},"Только латинские символы"),$.validator.addMethod("superphone",function(a,t){return(a=(a=t.value||a||$(t).val()).replace("+","")).length!==a.replace(/[0-9]+/g,"").length&&!!$(t).inputmask("isComplete")},function(a,t){var e=t.value||e||$(t).val();return(e=e.replace("+","")).length===e.replace(/[0-9]+/g,"").length?"Укажите телефон":$(t).inputmask("isComplete")?"Укажите телефон":"Номер телефона указан не полностью"}),$.validator.setDefaults({errorClass:"is-error",validClass:"is-valid",rules:{password:{required:!0,minlength:[6],latin:!0},password_new:{required:!0,minlength:[6],latin:!0},password_retry:{required:!0,equalTo:"[name=password_new]",latin:!0}},messages:{password_retry:{equalTo:"Пароли не совпадают"}},errorElement:"div",errorPlacement:function(a,t){var e=$(t).parents(".js-parent-input-error");if(0<e.length){var n=e.find(".error-message");0<n.length&&(n.empty(),n.append(a))}},success:function(a,t){a.addClass("is-valid")}}),window.initValidation=function(a){a.each(function(a,t){$(t).on("click",".js-submit",function(a){a&&a.preventDefault(),$(t).submit()}),$(t).validate({ignore:".is-validate-ignore",submitHandler:function(i,a){if($(i).valid()){var e=$(i).serializeArray();$(i).find("input[type=checkbox]").each(function(){e[this.name]=this.checked}),$.each($(i).data("data-to-send"),function(a,t){e.push(t)}),$.ajax({method:$(i).attr("method")||"post",dataType:"json",url:$(i).data("url"),data:e,success:function(a){a.success?a.hasOwnProperty("data")&&a.data.formErrors?$.each(a.data.formErrors,function(a,t){var e=$(i).find("[name="+a+"]");if(0<e.length){e.addClass("is-error").removeClass("is-valid");var n=e.parents(".js-parent-input-error");if(0<n.length){var s=n.find(".error-message");0<s.length&&(s.empty(),s.html('<span class="is-error">'+t+"</span>"))}}}):null!=$(i).data("callback")&&"function"==typeof $(i).data("callback")?$(i).data("callback")(a):a.data.redirectUrl?window.location.href=a.data.redirectUrl:window.location.reload():alert(a.error)},error:function(a,t,e){alert("Error 500: "+e)}})}}})})},initValidation($(".js-validate"))}),$(".js-scroll").on("click",function(a){a.preventDefault(),$("body,html").animate({scrollTop:$(".js-anchor-object").filter('[data-anchor-object="'+$(this).attr("data-anchor")+'"]').offset().top},1e3)}),$(".js-yandex-map").each(function(a,t){var e,n,s=$(t),i=parseFloat(s.attr("data-lat")),o=parseFloat(s.attr("data-lng"));n=void 0===s.attr("data-zoom")?16:parseInt(s.attr("data-zoom"));$(window).on("yandex:map:ready",function(){ymaps.ready(function(){e=new ymaps.Map($("#yandex-map")[0],{center:[i,o],zoom:n,controls:["zoomControl"],behaviors:["drag"]});var a=new ymaps.Placemark([55.02794706,37.40604254],{balloonContent:['<div class="metka">','<h2 class="metka__title">СтройБетонвоз</h2>','<div class="metka__block"> <img class="metka__img" src="assets/img/metka.jpg" /> </div>','<div class="metka__block">','<p class="metka__text">','<svg class="svg-flajok" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15.8 21.4"><defs><clipPath><rect class="cls-1" width="15.8" height="21.44"/></clipPath></defs><g class="cls-2"><path class="cls-3" d="M14.8,7.9c0,5.6-6.9,12.5-6.9,12.5S1,13.5,1,7.9a6.9,6.9,0,0,1,13.8,0Z"/><path class="cls-4" d="M10.1,8A2.3,2.3,0,1,1,7.8,5.8,2.3,2.3,0,0,1,10.1,8"/></g></svg>',"Серпуховский район, п. Пролетарский ул. Центральная д. 30а","</p>",'<p class="metka__text">','<svg class="svg-phone" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15.3 21.1"><defs><clipPath id="clip-path" transform="translate(0 0)"><rect class="cls-1" width="15.3" height="21.05"/></clipPath></defs><g class="cls-2"><path class="cls-3" d="M9.1,14.9,5.5,7.1,8.6,5.6,6.5,1,3,2.6A3.4,3.4,0,0,0,1.3,7.1L6.3,18a3.4,3.4,0,0,0,4.6,1.7l3.5-1.6-2.1-4.6Z"/></g></svg>',"+7 (926) 11-44-00","</p>",'<p class="metka__text">','<svg class="svg-mess" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20.5 15.4"><defs><clipPath><rect class="cls-1" width="20.5" height="15.35"/></clipPath></defs><g class="cls-2"><rect class="cls-3" x="1" y="1" width="18.5" height="13.35" rx="1.6" ry="1.6"/><polyline class="cls-3" points="1.9 2.1 10.4 9.6 18.6 1.9"/></g></svg>',"betonvoz1@yandex.ru","</p>","</div>","</div>"].join("")},{iconLayout:"default#image",iconImageHref:"assets/img/placemark.png",iconImageSize:[158,48],iconImageOffset:[-79,-48],balloonMaxWidth:360,balloonMaxHeight:170,balloonOffset:[-140,0]});e.geoObjects.add(a),e.behaviors.disable("scrollZoom")})})}),initAnchors($(document)),initMobileMenu($(".js-header")),$(document).ready(function(){var a;0<(a=$('input[type="tel"]')).filter('input[type="tel"]').length&&a.filter('input[type="tel"]').inputmask({mask:"+7 (999) 999-99-99",placeholder:" ",showMaskOnHover:!1,showMaskOnFocus:!1}),$(".js-letter-input").each(function(){$(this).on("input",function(){this.value=this.value.replace(/[^a-zA-Zа-яА-Я]/g,"")})}),$(".js-form").each(function(){$(this).find('input[type="text"],input[type="tel"]').each(function(a,t){$(t).on("input change blur",function(){""===t.value?$(t).removeClass("has-value"):$(t).addClass("has-value")})})})});